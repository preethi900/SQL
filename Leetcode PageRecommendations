SELECT distinct page_id as recommended_page
FROM (SELECT user2_id
FROM Friendship
WHERE user1_id=1
UNION
SELECT user1_id
FROM Friendship
WHERE user2_id=1) T
JOIN Likes ON T.user2_id=Likes.user_id AND page_id NOT IN (SELECT page_id
                                                               FROM Likes
                                                               WHERE user_id=1)
